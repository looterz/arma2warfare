Private ['_availableSpawn','_camps','_closestCamp','_deathLoc','_enemySide','_hostiles','_nearestCamps','_respawnCampsMode','_respawnCampsRuleMode','_respawnMinRange','_side','_town'];_deathLoc = _this select 0;_side = _this select 1;_availableSpawn = [];_respawnCampsMode = 'WFBE_RESPAWNCAMPSMODE' Call GetNamespace;_respawnCampsRuleMode = 'WFBE_RESPAWNCAMPSRULEMODE' Call GetNamespace;_respawnMinRange = 'WFBE_RESPAWNMINRANGE' Call GetNamespace;/* Classic Respawn */if (_respawnCampsMode == 1) then {	_town = [_deathLoc,_side] Call GetClosestLocation;	if !(isNull _town) then {		if (_town distance _deathLoc  < ('WFBE_RESPAWNRANGE' Call GetNamespace)) then {			_camps = [_town,_side] Call GetFriendlyCamps;			if (count _camps > 0) then {				if (_respawnCampsRuleMode > 0) then {					_closestCamp = ([_deathLoc,_camps] Call SortByDistance) select 0;					_enemySide = if (_side == west) then {[east]} else {[west]};					if (_respawnCampsRuleMode == 2) then {_enemySide = _enemySide + [resistance]};					_hostiles = [_closestCamp,_enemySide,_respawnMinRange] Call GetHostilesInArea;					if (_deathLoc distance _closestCamp < _respawnMinRange && _hostiles > 0) then {_camps = _camps - [_closestCamp]};				};				_availableSpawn = _availableSpawn + _camps;			};		};	};};/* Enhanced Respawn */if (_respawnCampsMode == 2) then {	_nearestCamps = nearestObjects [_deathLoc, WFCAMP, ('WFBE_RESPAWNRANGE' Call GetNamespace)];	{		_get = _x getVariable 'sideID';		if !(isNil '_get') then {			if (sideID == _get) then {				if (_respawnCampsRuleMode > 0) then {					_enemySide = if (_side == west) then {[east]} else {[west]};					if (_respawnCampsRuleMode == 2) then {_enemySide = _enemySide + [resistance]};					_hostiles = [_x,_enemySide,_respawnMinRange] Call GetHostilesInArea;					if (_deathLoc distance _x >= _respawnMinRange && _hostiles == 0) then {_availableSpawn = _availableSpawn + [_x]};				} else {					_availableSpawn = _availableSpawn + [_x];				};			};		};	} forEach _nearestCamps;};_availableSpawn